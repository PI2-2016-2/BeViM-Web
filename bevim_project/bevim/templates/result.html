{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% load i18n %}
{% load bootstrap_ui_tags %}


{% block content %}
<!-- Load c3.css -->
<link rel="stylesheet" href="{% static 'css/c3.min.css' %}" type="text/css"/>

<!-- Load d3.js and c3.js -->
<script src="{% static 'js/d3.v3.min.js' %}"></script>
<script src="{% static 'js/c3.min.js' %}"></script>

<div id="accelerations_chart_data" style="display: none;">
    {{accelerations_chart_data}}
</div>

<div id="amplitudes_chart_data" style="display: none;">
    {{amplitudes_chart_data}}
</div>

<div id="frequencies_chart_data" style="display: none;">
    {{frequencies_chart_data}}
</div>

<div id="speeds_chart_data" style="display: none;">
    {{speeds_chart_data}}
</div>

<h1><center> {% trans 'Experiment results' %} </center></h1>

<ul class="nav nav-tabs">
  <li class="active"><a href="#frequency" data-toggle="tab" aria-expanded="true">{% trans 'Frequency x Time' %}</a></li>
  <li class=""><a href="#acceleration" data-toggle="tab" aria-expanded="false">{% trans 'Acceleration x Time' %}</a></li>
  <li class=""><a href="#amplitude" data-toggle="tab" aria-expanded="false">{% trans 'Amplitude x Time' %}</a></li>
  <li class=""><a href="#speed" data-toggle="tab" aria-expanded="false">{% trans 'Speed x Time' %}</a></li>

</ul>
<div id="tabs-content" class="tab-content">
  <div class="tab-pane fade active in" id="frequency">
	<div id="frequency_chart"></div>
  </div>
  <div class="tab-pane fade" id="acceleration">
	<div id="acceleration_chart"></div>
  </div>
  <div class="tab-pane fade" id="amplitude">
		<div id="amplitude_chart"></div>
  </div>
  <div class="tab-pane fade" id="speed">
		<div id="speed_chart"></div>
  </div>
</div>

{% endblock %}

{% block body-javascript %}
    {{ block.super }}

  <script type="text/javascript">
      $(document).ready(function(){
        var accelerations = $("#accelerations_chart_data").html();
        accelerations = JSON.parse(accelerations);
		var chart = c3.generate({
		    bindto: '#acceleration_chart',
		    data: accelerations,
		});

		var frequencies = $("#frequencies_chart_data").html();
        frequencies = JSON.parse(frequencies);
		chart = c3.generate({
		    bindto: '#frequency_chart',
		    data: frequencies,
		});

		var amplitudes = $("#amplitudes_chart_data").html();
        amplitudes = JSON.parse(amplitudes);
		chart = c3.generate({
		    bindto: '#amplitude_chart',
		    data: amplitudes,
		});

		var speeds = $("#speeds_chart_data").html();
        speeds = JSON.parse(speeds);
		chart = c3.generate({
		    bindto: '#speed_chart',
		    data: speeds,
		});

      });

  </script>

{% endblock %}
